import{r as s,b as E,c as C,j as e,B as o,C as S,u as v,s as a,T as P,a as k}from"./index-Bp1RSzNC.js";import{G as y,N,P as M,n as z}from"./news-B_MgNZky.js";import{A as F}from"./Alert-zjN1EvlA.js";import{u as A,a as B,C as H,M as T,F as D}from"./FeedbackForm-BCMCdsSt.js";const K=()=>{const[n,g]=s.useState([]),[u,c]=s.useState(!0),[d,i]=s.useState(null),[x,f]=s.useState(1),r=E(),t=C(r.breakpoints.down("sm")),I=C(r.breakpoints.down("md")),p=t||I?4:6;s.useEffect(()=>{(()=>{try{setTimeout(()=>{const m=z.news.map(j=>({...j,onClick:()=>console.log(`Переход к новости ${j.id}`)}));g(m),c(!1)},1e3)}catch{i("Ошибка при загрузке новостей"),c(!1)}})()},[]);const w=l=>{f(l)},h=(x-1)*p,b=n.slice(h,h+p);return u?e.jsx(o,{sx:{display:"flex",justifyContent:"center",py:4,width:"100%"},children:e.jsx(S,{})}):d?e.jsx(F,{severity:"error",sx:{mb:2},children:d}):e.jsxs(o,{sx:{width:"100%"},children:[e.jsx(y,{container:!0,spacing:{xs:3,sm:4,md:5},sx:{mb:{xs:3,sm:4,md:5}},children:b.map((l,m)=>e.jsx(y,{item:!0,xs:12,sm:6,sx:{mb:{xxs:m!==b.length-1?2:0,xs:0}},children:e.jsx(N,{...l})},l.id))}),e.jsx(o,{sx:{display:"flex",justifyContent:"center",mt:{xs:2,sm:3,md:4}},children:e.jsx(M,{totalItems:n.length,itemsPerPage:p,currentPage:x,onPageChange:w,siblingCount:t?0:1})})]})},G=a(o)({width:"100%",position:"relative",marginBottom:"2rem",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",maxHeight:"880px",height:"880px"}),O=a("img")({width:"100%",height:"100%",display:"block",objectFit:"cover",position:"absolute",top:0,left:0,transition:"opacity 1s ease-in-out"}),R=a(o)({position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(20, 41, 52, 0.8)",display:"flex",alignItems:"center",zIndex:2}),W=a(o)({display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"2rem",paddingLeft:"2rem"}),L=a(P)(({theme:n})=>({color:"#fff",textAlign:"left",fontSize:"6rem",fontWeight:700,textShadow:"2px 2px 4px rgba(0,0,0,0.5)",[n.breakpoints.down("md")]:{fontSize:"4rem"},[n.breakpoints.down("sm")]:{fontSize:"3rem"}})),_=a(k)(({theme:n})=>({color:"#fff",borderColor:"#fff",padding:"12px 32px",fontSize:"1.2rem",borderRadius:0,"&:hover":{borderColor:"#fff",backgroundColor:"rgba(255, 255, 255, 0.1)"}})),U=({image:n,overlay:g=!0})=>{v();const[u,c]=s.useState(0),[d,i]=s.useState(!1),x=[A,B];s.useEffect(()=>{const r=setInterval(()=>{c(t=>t===0?1:0)},5e3);return()=>clearInterval(r)},[]);const f=()=>{i(!0)};return e.jsxs(e.Fragment,{children:[e.jsxs(G,{children:[x.map((r,t)=>e.jsx(O,{src:r,alt:`#IЧM ${t+1}`,sx:{opacity:t===u?1:0,zIndex:t===u?1:0}},t)),g&&e.jsx(R,{children:e.jsx(H,{maxWidth:"lg",sx:{display:"flex",alignItems:"center"},children:e.jsxs(W,{children:[e.jsx(L,{variant:"h1",children:"#IЧM"}),e.jsx(_,{variant:"outlined",size:"large",onClick:f,children:"Зворотний зв'язок"})]})})})]}),e.jsx(T,{open:d,onClose:()=>i(!1),title:"Зворотний зв'язок",children:e.jsx(D,{onClose:()=>i(!1)})})]})};export{U as H,K as N};

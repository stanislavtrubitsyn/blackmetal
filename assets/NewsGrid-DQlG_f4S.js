import{r as v,l as O,n as L,m as U,o as T,p as Z,j as d,s as C,f as q,i as F,q as j,t as W,B as w,b as K,v as Q,w as I,C as H,T as J}from"./index-FpWVLKsz.js";import{NewsCard as X}from"./NewsCard-Y9RERdsi.js";const A=v.createContext();function Y(e){return O("MuiGrid",e)}const ee=[0,1,2,3,4,5,6,7,8,9,10],te=["column-reverse","column","row-reverse","row"],ne=["nowrap","wrap-reverse","wrap"],y=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],b=L("MuiGrid",["root","container","item","zeroMinWidth",...ee.map(e=>`spacing-xs-${e}`),...te.map(e=>`direction-xs-${e}`),...ne.map(e=>`wrap-xs-${e}`),...y.map(e=>`grid-xs-${e}`),...y.map(e=>`grid-sm-${e}`),...y.map(e=>`grid-md-${e}`),...y.map(e=>`grid-lg-${e}`),...y.map(e=>`grid-xl-${e}`)]);function se({theme:e,ownerState:i}){let t;return e.breakpoints.keys.reduce((n,r)=>{let s={};if(i[r]&&(t=i[r]),!t)return n;if(t===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(t==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=j({values:i.columns,breakpoints:e.breakpoints.values}),c=typeof a=="object"?a[r]:a;if(c==null)return n;const l=`${Math.round(t/c*1e8)/1e6}%`;let o={};if(i.container&&i.item&&i.columnSpacing!==0){const u=e.spacing(i.columnSpacing);if(u!=="0px"){const m=`calc(${l} + ${u})`;o={flexBasis:m,maxWidth:m}}}s={flexBasis:l,flexGrow:0,maxWidth:l,...o}}return e.breakpoints.values[r]===0?Object.assign(n,s):n[e.breakpoints.up(r)]=s,n},{})}function ie({theme:e,ownerState:i}){const t=j({values:i.direction,breakpoints:e.breakpoints.values});return W({theme:e},t,n=>{const r={flexDirection:n};return n.startsWith("column")&&(r[`& > .${b.item}`]={maxWidth:"none"}),r})}function B({breakpoints:e,values:i}){let t="";Object.keys(i).forEach(r=>{t===""&&i[r]!==0&&(t=r)});const n=Object.keys(e).sort((r,s)=>e[r]-e[s]);return n.slice(0,n.indexOf(t))}function re({theme:e,ownerState:i}){const{container:t,rowSpacing:n}=i;let r={};if(t&&n!==0){const s=j({values:n,breakpoints:e.breakpoints.values});let a;typeof s=="object"&&(a=B({breakpoints:e.breakpoints.values,values:s})),r=W({theme:e},s,(c,l)=>{const o=e.spacing(c);return o!=="0px"?{marginTop:`calc(-1 * ${o})`,[`& > .${b.item}`]:{paddingTop:o}}:a!=null&&a.includes(l)?{}:{marginTop:0,[`& > .${b.item}`]:{paddingTop:0}}})}return r}function oe({theme:e,ownerState:i}){const{container:t,columnSpacing:n}=i;let r={};if(t&&n!==0){const s=j({values:n,breakpoints:e.breakpoints.values});let a;typeof s=="object"&&(a=B({breakpoints:e.breakpoints.values,values:s})),r=W({theme:e},s,(c,l)=>{const o=e.spacing(c);if(o!=="0px"){const u=`calc(-1 * ${o})`;return{width:`calc(100% + ${o})`,marginLeft:u,[`& > .${b.item}`]:{paddingLeft:o}}}return a!=null&&a.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${b.item}`]:{paddingLeft:0}}})}return r}function ae(e,i,t={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[t[`spacing-xs-${String(e)}`]];const n=[];return i.forEach(r=>{const s=e[r];Number(s)>0&&n.push(t[`spacing-${r}-${String(s)}`])}),n}const ce=C("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,i)=>{const{ownerState:t}=e,{container:n,direction:r,item:s,spacing:a,wrap:c,zeroMinWidth:l,breakpoints:o}=t;let u=[];n&&(u=ae(a,o,i));const m=[];return o.forEach(x=>{const p=t[x];p&&m.push(i[`grid-${x}-${String(p)}`])}),[i.root,n&&i.container,s&&i.item,l&&i.zeroMinWidth,...u,r!=="row"&&i[`direction-xs-${String(r)}`],c!=="wrap"&&i[`wrap-xs-${String(c)}`],...m]}})(({ownerState:e})=>({boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...e.item&&{margin:0},...e.zeroMinWidth&&{minWidth:0},...e.wrap!=="wrap"&&{flexWrap:e.wrap}}),ie,re,oe,se);function le(e,i){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const t=[];return i.forEach(n=>{const r=e[n];if(Number(r)>0){const s=`spacing-${n}-${String(r)}`;t.push(s)}}),t}const ue=e=>{const{classes:i,container:t,direction:n,item:r,spacing:s,wrap:a,zeroMinWidth:c,breakpoints:l}=e;let o=[];t&&(o=le(s,l));const u=[];l.forEach(x=>{const p=e[x];p&&u.push(`grid-${x}-${String(p)}`)});const m={root:["root",t&&"container",r&&"item",c&&"zeroMinWidth",...o,n!=="row"&&`direction-xs-${String(n)}`,a!=="wrap"&&`wrap-xs-${String(a)}`,...u]};return F(m,Y,i)},P=v.forwardRef(function(i,t){const n=U({props:i,name:"MuiGrid"}),{breakpoints:r}=T(),s=Z(n),{className:a,columns:c,columnSpacing:l,component:o="div",container:u=!1,direction:m="row",item:x=!1,rowSpacing:p,spacing:f=0,wrap:g="wrap",zeroMinWidth:k=!1,...h}=s,z=p||f,V=l||f,_=v.useContext(A),G=u?c||12:_,M={},R={...h};r.keys.forEach(S=>{h[S]!=null&&(M[S]=h[S],delete R[S])});const E={...s,columns:G,container:u,direction:m,item:x,rowSpacing:z,columnSpacing:V,wrap:g,zeroMinWidth:k,spacing:f,...M,breakpoints:r.keys},D=ue(E);return d.jsx(A.Provider,{value:G,children:d.jsx(ce,{ownerState:E,className:q(D.root,a),as:o,ref:t,...R})})}),$="...",pe=({totalItems:e,itemsPerPage:i,currentPage:t,siblingCount:n=1})=>v.useMemo(()=>{const s=Math.ceil(e/i);if(n+5>=s)return Array.from({length:s},(f,g)=>({type:"page",value:g+1,isActive:Number(g+1)===Number(t)}));const c=Math.max(t-n,1),l=Math.min(t+n,s),o=c>2,u=l<s-1,m=1,x=s;if(!o&&u){const f=3+2*n;return[...Array.from({length:f},(k,h)=>({type:"page",value:h+1,isActive:Number(h+1)===Number(t)})),{type:"ellipsis",value:$},{type:"page",value:x}]}if(o&&!u){const f=3+2*n,g=Array.from({length:f},(k,h)=>({type:"page",value:s-f+h+1,isActive:Number(s-f+h+1)===Number(t)}));return[{type:"page",value:m},{type:"ellipsis",value:$},...g]}const p=Array.from({length:l-c+1},(f,g)=>({type:"page",value:c+g,isActive:Number(c+g)===Number(t)}));return[{type:"page",value:m},{type:"ellipsis",value:$},...p,{type:"ellipsis",value:$},{type:"page",value:x}]},[e,i,t,n]),de=C(w)({display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem",marginTop:"2rem"}),N=C(K)(({theme:e})=>({minWidth:"40px",height:"40px",padding:"0",color:e.palette.primary.main,borderColor:e.palette.primary.main,borderRadius:0,"&.active":{backgroundColor:e.palette.primary.main,color:"#fff","&:hover":{backgroundColor:e.palette.primary.dark}},"&:hover":{borderColor:e.palette.primary.dark,backgroundColor:"rgba(20, 41, 52, 0.04)"}})),me=C(w)(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",width:"40px",height:"40px",color:e.palette.primary.main})),fe=({totalItems:e,itemsPerPage:i,currentPage:t,onPageChange:n,siblingCount:r=1})=>{const s=pe({totalItems:e,itemsPerPage:i,currentPage:t,siblingCount:r});if(t===0||s.length<2)return null;const a=()=>{n(t+1)},c=()=>{n(t-1)},l=s[s.length-1].value;return d.jsxs(de,{children:[d.jsx(N,{variant:"outlined",onClick:c,disabled:t===1,children:"<"}),s.map((o,u)=>o.type==="ellipsis"?d.jsx(me,{children:o.value},`ellipsis-${u}`):d.jsx(N,{variant:"outlined",onClick:()=>n(o.value),className:o.type==="page"&&"isActive"in o&&o.isActive?"active":"",children:o.value},o.value)),d.jsx(N,{variant:"outlined",onClick:a,disabled:t===l,children:">"})]})},he=()=>{const{data:e,loading:i}=Q("news"),[t,n]=v.useState([]),[r,s]=v.useState(1),a=T(),c=I(a.breakpoints.down("sm")),l=I(a.breakpoints.down("md")),o=c||l?4:6;v.useEffect(()=>{if(e!=null&&e.news){const p=e.news.map(f=>({...f,onClick:()=>console.log(`Переход к новости ${f.id}`)}));n(p)}},[e]);const u=p=>{s(p)},m=(r-1)*o,x=t.slice(m,m+o);return i?d.jsx(w,{sx:{display:"flex",justifyContent:"center",py:4,width:"100%"},children:d.jsx(H,{})}):d.jsxs(w,{sx:{width:"100%"},children:[d.jsx(J,{variant:"h3",fontWeight:"bold",sx:{textAlign:"center",mb:{xs:3,sm:4,md:5},fontSize:{xxs:"2.5rem",sm:"2.2rem",md:"2.5rem"}},children:e==null?void 0:e.newsTitle}),d.jsx(P,{container:!0,spacing:{xs:3,sm:4,md:5},sx:{mb:{xs:3,sm:4,md:5}},children:x.map((p,f)=>d.jsx(P,{item:!0,xs:12,sm:6,sx:{mb:{xxs:2,xs:0}},component:"div",children:d.jsx(X,{...p})},p.id))}),d.jsx(w,{sx:{display:"flex",justifyContent:"center",mt:{xs:2,sm:3,md:4}},children:d.jsx(fe,{totalItems:t.length,itemsPerPage:o,currentPage:r,onPageChange:u,siblingCount:c?0:1})})]})};export{he as NewsGrid};

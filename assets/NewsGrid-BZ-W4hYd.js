import{r as t,b as y,c as h,j as s,B as a,C as N}from"./index-Bp1RSzNC.js";import{G as p,N as E,P as S,n as G}from"./news-B_MgNZky.js";import{A as T}from"./Alert-zjN1EvlA.js";import"./CardMedia-B4FgQKLd.js";const B=()=>{const[o,w]=t.useState([]),[f,i]=t.useState(!0),[c,j]=t.useState(null),[d,P]=t.useState(1),l=y(),x=h(l.breakpoints.down("sm")),C=h(l.breakpoints.down("md")),n=x||C?4:6;t.useEffect(()=>{(()=>{try{setTimeout(()=>{const r=G.news.map(g=>({...g,onClick:()=>console.log(`Переход к новости ${g.id}`)}));w(r),i(!1)},1e3)}catch{j("Ошибка при загрузке новостей"),i(!1)}})()},[]);const b=e=>{P(e)},m=(d-1)*n,u=o.slice(m,m+n);return f?s.jsx(a,{sx:{display:"flex",justifyContent:"center",py:4,width:"100%"},children:s.jsx(N,{})}):c?s.jsx(T,{severity:"error",sx:{mb:2},children:c}):s.jsxs(a,{sx:{width:"100%"},children:[s.jsx(p,{container:!0,spacing:{xs:3,sm:4,md:5},sx:{mb:{xs:3,sm:4,md:5}},children:u.map((e,r)=>s.jsx(p,{item:!0,xs:12,sm:6,sx:{mb:{xxs:r!==u.length-1?2:0,xs:0}},children:s.jsx(E,{...e})},e.id))}),s.jsx(a,{sx:{display:"flex",justifyContent:"center",mt:{xs:2,sm:3,md:4}},children:s.jsx(S,{totalItems:o.length,itemsPerPage:n,currentPage:d,onPageChange:b,siblingCount:x?0:1})})]})};export{B as NewsGrid};
